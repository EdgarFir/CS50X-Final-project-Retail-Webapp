{% extends "layout.html" %}
{% block title %}
    Expenses
{% endblock %}

{% block main %}


    <div class="col-lg-12 header_description mt-1" style="min-height: 225px!important; height: 225px!important;">
        <div style="min-height: 200px; padding:inherit;">
            <h1 class="mb-3 mt-3 p-3">Expenses</h1>
            <h3 class="mb-3 p-3">Insert and check your expenses.</h3>
        </div>
    </div>
    <div class="container-fluid p-1 mt-3 bg-white">
        <div class="mx-auto w-75 mt-3 mb-3">
            <div class="sucess-border mt-3 p-3 color-black text-center">
                <span class="text-center">The monthly closing of expenses closes on the 22nd of the respective month.</span>
            </div>
        </div>      
        <div class="row mx-auto p-2" id="order_content">
            <div class="col-lg-12 mt-3 mb-3 p-3">
                <div class="mt-2 mb-2">
                    <h5 class="personal-blue-color"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-box-arrow-in-down" viewBox="2 2 16 16">
                        <path fill-rule="evenodd" d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1z"/>
                        <path fill-rule="evenodd" d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                      </svg> Insert expense</h5>
                </div>
                <form class="personal-form" id="register_expense_form">
                    {{ register_expense_form.hidden_tag() }}
                    <div class="user-form">
                        <div class="inline-flex-space-between mt-3 gap-8">
                            <div class="w-25">
                                {{ register_expense_form.expenses.label(class="form-label") }}
                                {{ register_expense_form.expenses(class="form-select form-select-sm") }}
                            </div>
                            <div class="w-25">
                                {{ register_expense_form.total.label(class="form-label") }}
                                {{ register_expense_form.total(class="form-control form-control-sm border rounded-0", placeholder= current_user.user_currency | currency_filter  ) }}    
                            </div>
                            <div class="w-25">
                                {{ register_expense_form.month_year_dates.label(class="form-label") }}
                                {{ register_expense_form.month_year_dates(class="form-select form-select-sm") }}
                            </div>
                        </div>
                        
                        <div class="message small-size mt-2 mb-2"></div>
                        
                        <div class="col-lg-12 mt-4">
                            {{ register_expense_form.submit_expense(class="btn btn-sm btn-success rounded-0 w-100 small-size") }}                       
                        </div>
                    </div>
                </form>
                <hr></hr>
                <form class="personal-form user-form" id="check_expense_form">
                    {{ check_expense_form.hidden_tag() }}
                    <h5 class="personal-blue-color mt-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0.5 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                          </svg>
                        Check your expenses
                    </h5>          
                    <div class="in-line mt-3 gap-8">
                        <div class="w-25">
                            {{ check_expense_form.year.label(class="form-label") }}
                            {{ check_expense_form.year(class="form-select form-select-sm") }}
                        </div>
                        <div class="w-25">
                            {% if check_expense_form.month %}
                                {{ check_expense_form.month.label(class="form-label") }}
                                {{ check_expense_form.month(class="form-select form-select-sm") }}
                            {% else %}
                                <label for="search_expense_month" class="form-label">Month:</label>
                                <select class="form-select form-select-sm family_group" id="search_expense_month">
                                    <option disabled>No results!</option>
                                </select>
                            {% endif %}   
                        </div>
                    </div>
                    <div class="col-lg-12 mt-4">
                        {{ check_expense_form.check_expense(class="btn btn-sm btn-success rounded-0 w-100 small-size")}}
                    </div>
                    <div class="message small-size"></div>
                </form>
            </div>
            
            <div class="user-form">
                <div class="col-lg-12 p-0 mt-2" id="expense_content"></div>
                <div class="message small-size mb-3 mt-3"></div>
            </div>
            

            
            
        </div>
    </div>
    
{% endblock %}